<!DOCTYPE html>

<head>

    <title>InLock - Personagens</title>

    <!-- Three Line List with secondary info and action -->
    <style>
        body {
            display: flex;
            align-items: center;
            justify-content: center;
        }
    </style>

</head>

<body>

    <table id="tabela-lista">
        <thead>
            <tr>
                <th>#</th>
                <th>Título</th>
                <th>Ação</th>
            </tr>
        </thead>

        <tbody id="tabela-lista-corpo"></tbody>
    </table>

    <script>
        var objJson = [];

        const URL = `https://salty-atoll-57329.herokuapp.com/personagens`;
        fetch(URL)
            .then(resposta => resposta.json())
            .then(data => preencherDados(data))
            .catch(erro => console.error(erro));

        console.log(objJson);



        var listing_table = document.getElementById("tabela-lista-corpo");

        listing_table.innerHTML = "";

        function preencherDados(lista) {
            console.log(lista);
            lista.forEach(element => {
                let linha = document.createElement("tr");
                let itemDaLinhaId = document.createElement("td");
                itemDaLinhaId.innerText = element.nome;
                let itemDaLinhaNome = document.createElement("td");
                itemDaLinhaNome.innerText = element.lancamento;
                let itemDaLinhaOpcao = document.createElement("td");
                itemDaLinhaOpcao.innerHTML = "<img style='width: 60px;' src='" + element.urlImagem + "'>";
                linha.appendChild(itemDaLinhaId);
                linha.appendChild(itemDaLinhaNome);
                linha.appendChild(itemDaLinhaOpcao);
                listing_table.appendChild(linha);
            });
        }
    </script>

</body>

</html>